<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 680 720" fill="none">
  <style>
    text { font-family: system-ui, -apple-system, sans-serif; }
    .box { rx: 8; ry: 8; }
    .label { font-size: 13px; fill: #1a1a2e; font-weight: 600; }
    .sublabel { font-size: 11px; fill: #6b7280; }
    .arrow { stroke: #005799; stroke-width: 1.5; marker-end: url(#ah); }
    .heading { font-size: 20px; fill: #3b82f6; font-weight: 700; }
    .col-head { font-size: 15px; font-weight: 700; }
  </style>
  <defs>
    <marker id="ah" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
      <path d="M0,0 L8,3 L0,6" fill="#005799"/>
    </marker>
  </defs>

  <!-- Title -->
  <text class="heading" x="340" y="30" text-anchor="middle">v1 to v2 Concept Migration Map</text>

  <!-- Column headers -->
  <text class="col-head" x="120" y="65" text-anchor="middle" fill="#e03131">wasmCloud v1</text>
  <text class="col-head" x="540" y="65" text-anchor="middle" fill="#00bc8e">wasmCloud v2</text>

  <!-- Row 1: wadm → runtime-operator -->
  <rect class="box" x="20" y="85" width="200" height="48" fill="#ffe6e6" stroke="#e03131" stroke-width="1.5"/>
  <text class="label" x="120" y="105" text-anchor="middle">wadm</text>
  <text class="sublabel" x="120" y="121" text-anchor="middle">Scheduler</text>

  <line class="arrow" x1="222" y1="109" x2="438" y2="109"/>

  <rect class="box" x="440" y="85" width="200" height="48" fill="#e6f9f3" stroke="#00bc8e" stroke-width="1.5"/>
  <text class="label" x="540" y="105" text-anchor="middle">runtime-operator</text>
  <text class="sublabel" x="540" y="121" text-anchor="middle">Kubernetes Operator</text>

  <!-- Row 2: JetStream → etcd -->
  <rect class="box" x="20" y="150" width="200" height="48" fill="#ffe6e6" stroke="#e03131" stroke-width="1.5"/>
  <text class="label" x="120" y="170" text-anchor="middle">NATS JetStream</text>
  <text class="sublabel" x="120" y="186" text-anchor="middle">State Store</text>

  <line class="arrow" x1="222" y1="174" x2="438" y2="174"/>

  <rect class="box" x="440" y="150" width="200" height="48" fill="#e6f9f3" stroke="#00bc8e" stroke-width="1.5"/>
  <text class="label" x="540" y="170" text-anchor="middle">Kubernetes etcd</text>
  <text class="sublabel" x="540" y="186" text-anchor="middle">State Store</text>

  <!-- Row 3: OAM → CRDs -->
  <rect class="box" x="20" y="215" width="200" height="48" fill="#ffe6e6" stroke="#e03131" stroke-width="1.5"/>
  <text class="label" x="120" y="235" text-anchor="middle">OAM Manifest</text>
  <text class="sublabel" x="120" y="251" text-anchor="middle">wadm.yaml</text>

  <line class="arrow" x1="222" y1="239" x2="438" y2="239"/>

  <rect class="box" x="440" y="215" width="200" height="48" fill="#e6f9f3" stroke="#00bc8e" stroke-width="1.5"/>
  <text class="label" x="540" y="235" text-anchor="middle">Kubernetes CRDs</text>
  <text class="sublabel" x="540" y="251" text-anchor="middle">YAML manifests</text>

  <!-- Row 4: Application → Workload -->
  <rect class="box" x="20" y="280" width="200" height="44" fill="#ffe6e6" stroke="#e03131" stroke-width="1.5"/>
  <text class="label" x="120" y="306" text-anchor="middle">Application</text>

  <line class="arrow" x1="222" y1="302" x2="438" y2="302"/>

  <rect class="box" x="440" y="280" width="200" height="44" fill="#e6f9f3" stroke="#00bc8e" stroke-width="1.5"/>
  <text class="label" x="540" y="306" text-anchor="middle">Workload</text>

  <!-- Row 5: Actors → Components -->
  <rect class="box" x="20" y="341" width="200" height="44" fill="#ffe6e6" stroke="#e03131" stroke-width="1.5"/>
  <text class="label" x="120" y="367" text-anchor="middle">Actors</text>

  <line class="arrow" x1="222" y1="363" x2="438" y2="363"/>

  <rect class="box" x="440" y="341" width="200" height="44" fill="#e6f9f3" stroke="#00bc8e" stroke-width="1.5"/>
  <text class="label" x="540" y="367" text-anchor="middle">Components</text>

  <!-- Row 6: Capability Providers → Host Plugins + Services -->
  <rect class="box" x="20" y="405" width="200" height="52" fill="#ffe6e6" stroke="#e03131" stroke-width="1.5"/>
  <text class="label" x="120" y="425" text-anchor="middle">Capability Providers</text>
  <text class="sublabel" x="120" y="445" text-anchor="middle">External Processes</text>

  <!-- Two horizontal arrows, one to each target (no diagonal crossing) -->
  <line class="arrow" x1="222" y1="419" x2="438" y2="419"/>
  <line class="arrow" x1="222" y1="443" x2="438" y2="462"/>

  <rect class="box" x="440" y="399" width="200" height="44" fill="#e6f9f3" stroke="#00bc8e" stroke-width="1.5"/>
  <text class="label" x="540" y="419" text-anchor="middle">Host Plugins</text>
  <text class="sublabel" x="540" y="435" text-anchor="middle">Built into Host</text>

  <rect class="box" x="440" y="453" width="200" height="44" fill="#e0f5f0" stroke="#099268" stroke-width="1.5"/>
  <text class="label" x="540" y="473" text-anchor="middle">Services</text>
  <text class="sublabel" x="540" y="489" text-anchor="middle">Workload-level</text>

  <!-- Row 7: JWT → OCI Attestation -->
  <rect class="box" x="20" y="516" width="200" height="48" fill="#ffe6e6" stroke="#e03131" stroke-width="1.5"/>
  <text class="label" x="120" y="536" text-anchor="middle">JWT Claims</text>
  <text class="sublabel" x="120" y="552" text-anchor="middle">Identity</text>

  <line class="arrow" x1="222" y1="540" x2="438" y2="540"/>

  <rect class="box" x="440" y="516" width="200" height="48" fill="#e6f9f3" stroke="#00bc8e" stroke-width="1.5"/>
  <text class="label" x="540" y="536" text-anchor="middle">OCI Attestation</text>
  <text class="sublabel" x="540" y="552" text-anchor="middle">+ SPIFFE/SPIRE</text>

  <!-- Row 8: CloudEvents → K8s Events + OTel -->
  <rect class="box" x="20" y="581" width="200" height="48" fill="#ffe6e6" stroke="#e03131" stroke-width="1.5"/>
  <text class="label" x="120" y="601" text-anchor="middle">CloudEvents</text>
  <text class="sublabel" x="120" y="617" text-anchor="middle">Observability</text>

  <line class="arrow" x1="222" y1="605" x2="438" y2="605"/>

  <rect class="box" x="440" y="581" width="200" height="48" fill="#e6f9f3" stroke="#00bc8e" stroke-width="1.5"/>
  <text class="label" x="540" y="601" text-anchor="middle">K8s Events + OTel</text>
  <text class="sublabel" x="540" y="617" text-anchor="middle">OpenTelemetry</text>

  <!-- Row 9: Secrets -->
  <rect class="box" x="20" y="646" width="200" height="48" fill="#ffe6e6" stroke="#e03131" stroke-width="1.5"/>
  <text class="label" x="120" y="666" text-anchor="middle">wasmcloud:secrets</text>
  <text class="sublabel" x="120" y="682" text-anchor="middle">Custom Protocol</text>

  <line class="arrow" x1="222" y1="670" x2="438" y2="670"/>

  <rect class="box" x="440" y="646" width="200" height="48" fill="#e6f9f3" stroke="#00bc8e" stroke-width="1.5"/>
  <text class="label" x="540" y="666" text-anchor="middle">wasi:config</text>
  <text class="sublabel" x="540" y="682" text-anchor="middle">+ Kubernetes Secrets</text>
</svg>
