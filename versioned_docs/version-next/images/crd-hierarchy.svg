<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 785 480" fill="none">
  <style>
    text { font-family: system-ui, -apple-system, sans-serif; }
    .box { rx: 8; ry: 8; }
    .label { font-size: 14px; fill: #1a1a2e; font-weight: 600; }
    .sublabel { font-size: 11px; fill: #6b7280; }
    .arrow { stroke: #9ca3af; stroke-width: 1.5; marker-end: url(#ah); }
    .heading { font-size: 20px; fill: #3b82f6; font-weight: 700; }
    .analog { font-size: 12px; fill: #00bc8e; font-style: italic; }
    .side-heading { font-size: 13px; fill: #3b82f6; font-weight: 600; }
  </style>
  <defs>
    <marker id="ah" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
      <path d="M0,0 L8,3 L0,6" fill="#9ca3af"/>
    </marker>
  </defs>

  <!-- Title -->
  <text class="heading" x="230" y="30" text-anchor="middle">wasmCloud CRD Hierarchy</text>

  <!-- Level 1: WorkloadDeployment -->
  <rect class="box" x="125" y="55" width="210" height="44" fill="#f0ecff" stroke="#6741d9" stroke-width="1.5"/>
  <text class="label" x="230" y="81" text-anchor="middle">WorkloadDeployment</text>
  <text class="analog" x="475" y="81">like Deployment</text>

  <!-- Arrows down to ReplicaSets -->
  <text class="sublabel" x="95" y="122">creates</text>
  <line class="arrow" x1="180" y1="99" x2="117" y2="155"/>

  <text class="sublabel" x="334" y="122">manages rollback</text>
  <line class="arrow" x1="280" y1="99" x2="342" y2="155"/>

  <!-- Level 2: WorkloadReplicaSets (aligned with columns below) -->
  <rect class="box" x="20" y="157" width="195" height="48" fill="#e6f0f7" stroke="#005799" stroke-width="1.5"/>
  <text class="label" x="117" y="177" text-anchor="middle">WorkloadReplicaSet</text>
  <text class="sublabel" x="117" y="193" text-anchor="middle">current</text>

  <rect class="box" x="245" y="157" width="195" height="48" fill="#f3f4f6" stroke="#788591" stroke-width="1.5"/>
  <text class="label" x="342" y="177" text-anchor="middle">WorkloadReplicaSet</text>
  <text class="sublabel" x="342" y="193" text-anchor="middle">previous</text>

  <text class="analog" x="475" y="185">like ReplicaSet</text>

  <!-- Arrows from current ReplicaSet down to Workloads -->
  <line class="arrow" x1="80" y1="205" x2="80" y2="270"/>
  <line class="arrow" x1="117" y1="205" x2="230" y2="270"/>
  <line class="arrow" x1="170" y1="205" x2="380" y2="270"/>

  <!-- Level 3: Workloads -->
  <rect class="box" x="20" y="272" width="120" height="40" fill="#e6f9f3" stroke="#00bc8e" stroke-width="1.5"/>
  <text class="label" x="80" y="296" text-anchor="middle">Workload</text>

  <rect class="box" x="170" y="272" width="120" height="40" fill="#e6f9f3" stroke="#00bc8e" stroke-width="1.5"/>
  <text class="label" x="230" y="296" text-anchor="middle">Workload</text>

  <rect class="box" x="320" y="272" width="120" height="40" fill="#e6f9f3" stroke="#00bc8e" stroke-width="1.5"/>
  <text class="label" x="380" y="296" text-anchor="middle">Workload</text>

  <text class="analog" x="475" y="296">like Pod</text>

  <!-- Arrows from Workloads down to Hosts -->
  <line class="arrow" x1="80" y1="312" x2="80" y2="378"/>
  <line class="arrow" x1="230" y1="312" x2="230" y2="378"/>
  <line class="arrow" x1="380" y1="312" x2="380" y2="378"/>

  <!-- Level 4: Hosts -->
  <rect class="box" x="15" y="380" width="130" height="48" fill="#e6ecf3" stroke="#002e5d" stroke-width="1.5"/>
  <text class="label" x="80" y="400" text-anchor="middle">Host</text>
  <text class="sublabel" x="80" y="416" text-anchor="middle">hostgroup: A</text>

  <rect class="box" x="165" y="380" width="130" height="48" fill="#e6ecf3" stroke="#002e5d" stroke-width="1.5"/>
  <text class="label" x="230" y="400" text-anchor="middle">Host</text>
  <text class="sublabel" x="230" y="416" text-anchor="middle">hostgroup: A</text>

  <rect class="box" x="315" y="380" width="130" height="48" fill="#e6ecf3" stroke="#002e5d" stroke-width="1.5"/>
  <text class="label" x="380" y="400" text-anchor="middle">Host</text>
  <text class="sublabel" x="380" y="416" text-anchor="middle">hostgroup: B</text>

  <text class="analog" x="475" y="408">like Node</text>

  <!-- Supporting CRDs sidebar -->
  <text class="side-heading" x="695" y="290" text-anchor="middle">Supporting CRDs</text>

  <rect class="box" x="620" y="305" width="150" height="48" fill="#fff8e6" stroke="#d4a017" stroke-width="1.5"/>
  <text class="label" x="695" y="325" text-anchor="middle">Artifact</text>
  <text class="sublabel" x="695" y="341" text-anchor="middle">OCI resolution</text>

  <rect class="box" x="620" y="370" width="150" height="48" fill="#e6ecf3" stroke="#002e5d" stroke-width="1.5"/>
  <text class="label" x="695" y="390" text-anchor="middle">Host</text>
  <text class="sublabel" x="695" y="406" text-anchor="middle">Self-registered</text>
</svg>
